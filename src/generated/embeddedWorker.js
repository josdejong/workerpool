/**
 * embeddedWorker.js contains an embedded version of worker.js.
 * This file is automatically generated,
 * changes made in this file will be overwritten.
 */
module.exports = "!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).worker=n()}(this,(function(){\"use strict\";function e(n){return e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e(n)}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var t={};var r=function(e,n){this.message=e,this.transfer=n};return function(n){var t=r,o=\"__workerpool-cleanup__\",i={exit:function(){}};if(\"undefined\"!=typeof self&&\"function\"==typeof postMessage&&\"function\"==typeof addEventListener)i.on=function(e,n){addEventListener(e,(function(e){n(e.data)}))},i.send=function(e){postMessage(e)};else{if(\"undefined\"==typeof process)throw new Error(\"Script must be executed as a worker\");var s;try{s=require(\"worker_threads\")}catch(n){if(\"object\"!==e(n)||null===n||\"MODULE_NOT_FOUND\"!==n.code)throw n}if(s&&null!==s.parentPort){var u=s.parentPort;i.send=u.postMessage.bind(u),i.on=u.on.bind(u),i.exit=process.exit.bind(process)}else i.on=process.on.bind(process),i.send=function(e){process.send(e)},i.on(\"disconnect\",(function(){process.exit(1)})),i.exit=process.exit.bind(process)}function a(e){return Object.getOwnPropertyNames(e).reduce((function(n,t){return Object.defineProperty(n,t,{value:e[t],enumerable:!0})}),{})}function d(e){return e&&\"function\"==typeof e.then&&\"function\"==typeof e.catch}i.methods={},i.methods.run=function(e,n){var t=new Function(\"return (\"+e+\").apply(this, arguments);\");return t.worker=c(),t.apply(t,n)},i.methods.methods=function(){return Object.keys(i.methods)},i.terminationHandler=void 0,i.abortListenerTimeout=1e3,i.abortListeners=[],i.cleanupAndExit=function(e){var n=function(){i.exit(e)};if(!i.terminationHandler)return n();var t=i.terminationHandler(e);d(t)?t.then(n,n):n()},i.tryCleanup=function(){if(i.abortListeners.length){var e,n=i.abortListeners.map((function(e){return e()})),t=new Promise((function(n,t){e=setTimeout((function(){t(1)}),i.abortListenerTimeout)})),r=Promise.allSettled(n).then((function(){clearTimeout(e),i.abortListeners=[]}),(function(){clearTimeout(e),i.exit()}));return Promise.race([r,t])}return new Promise((function(e,n){n()}))};var f=null;function c(){var e={addAbortListener:function(e){i.abortListeners.push(e)}};return e.emit=i.emit,e}i.on(\"message\",(function(e){if(\"__workerpool-terminate__\"===e)return i.cleanupAndExit(0);if(e.method===o)return i.tryCleanup().then((function(n){i.send({id:e.id,method:o,error:null,result:n})})).catch((function(n){i.send({id:e.id,method:o,error:a(n),result:null}),i.exit()}));try{var n=i.methods[e.method];if(!n)throw new Error('Unknown method \"'+e.method+'\"');f=e.id;var r=n.apply(n,e.params);d(r)?r.then((function(n){n instanceof t?i.send({id:e.id,result:n.message,error:null},n.transfer):i.send({id:e.id,result:n,error:null}),f=null})).catch((function(n){i.send({id:e.id,result:null,error:a(n)}),f=null})):(r instanceof t?i.send({id:e.id,result:r.message,error:null},r.transfer):i.send({id:e.id,result:r,error:null}),f=null)}catch(n){i.send({id:e.id,result:null,error:a(n)})}})),i.register=function(e,n){if(e)for(var t in e)e.hasOwnProperty(t)&&(i.methods[t]=e[t],i.methods[t].worker=c());n&&(i.terminationHandler=n.onTerminate,i.abortListenerTimeout=n.abortListenerTimeout||1e3),i.send(\"ready\")},i.emit=function(e){if(f){if(e instanceof t)return void i.send({id:f,isEvent:!0,payload:e.message},e.transfer);i.send({id:f,isEvent:!0,payload:e})}},n.add=i.register,n.emit=i.emit}(t),n(t)}));\n//# sourceMappingURL=worker.min.js.map\n";
